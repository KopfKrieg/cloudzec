# Maintainer: Florian Krauskopf <florian.kr@r3v0luti0n.com>

pkgname=python-gnupg
_gitname=python-gnupg
pkgver=1.2.5
pkgrel=1
pkgdesc="The gnupg module allows Python programs to make use of the functionality provided by the GNU Privacy Guard." 
url="https://github.com/isislovecruft/python-gnupg"
license=("GPL")
arch=("any")
depends=('python' 'gnupg' 'python-psutil')
source=('git://github.com/isislovecruft/python-gnupg.git'
        'patch_exceptions.diff')
md5sums=('SKIP'
         'bf81e1140041326fe7fa5dbb110e9e03')

build() {
  cd $_gitname
  git checkout $pkgver
  patch -uNp1 -i "${srcdir}/patch_exceptions.diff"
  python setup.py build
}

package() {
  cd $_gitname
  git checkout $pkgver
  #python setup.py install --prefix=${pkgdir}/usr --optimize=1
  #python setup.py install --root=${pkgdir}/usr --optimize=1
  python setup.py install --root=${pkgdir} --optimize=1
  install -D -m644 LICENSE "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
